<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter.wght@400,600&family=Poppins:wght@600&display=swap"
        rel="stylesheet">
    <meta charset="UTF-8">
    <title>{% block title %}My App{% endblock %} </title>
    <script src="{{ url_for('static', filename='script.js')}}"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>

<body>

    <nav>
        <a href="{{ url_for('dashboard')}}" class="course-link">Dashboard </a>
        <a href="{{ url_for('list_courses')}}" class="course-link">Courses</a>
        <a href="{{ url_for('all_sessions')}}" class="course-link">All Sessions</a>
        <a href=" {{ url_for('logout')}}" class="course-link">Log out</a>

        <button id="darkModeToggle" style="float:right;">Toggle Dark Mode</button>

        <a href="{{ url_for('stopwatch')}}">
            <button style="margin-right:10px;">Stopwatch</button>
        </a>
        <button id="audioToggle" class="btn btn-sm btn-secondary">
            White Noise <span id="audioStatus">ðŸ”ˆ Off</span>
        </button>
        <audio id="studyAudio" loop>
            <source src="{{ url_for('static', filename='audio/whitenoise.mp3')}}" type="audio/mpeg">
        </audio>


    </nav>
    <main>
        {% block content %}{% endblock %}
    </main>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toggleButton = document.getElementById('darkModeToggle');
            if (toggleButton) {
                toggleButton.addEventListener('click', () => {
                    document.body.classList.toggle('dark-mode');
                    localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
                });

            }

            if (localStorage.getItem('darkMode') === 'true') {
                document.body.classList.add('dark-mode');
            }

        });
    </script>


</body>

</html>