{% extends "base.html" %}
{% block title %}My Courses{% endblock %}
{% block content %}









<h1>My Courses</h1>
<a href="{{ url_for('add_course')}}" class="course-link">Add Course</a>
<div>
    <form method="GET">
        <input type="text" name="q" value="{{ query }}" placeholder="Search courses">
        <button type="submit">Search</button>
    </form>
    {% for course in courses %}
    <div class="course-card">
        <strong>{{ course.coursename }}</strong>
        <small>{{ course.description }}</small><br>
        {% set status_display = {'planned':'Planned', 'in_progress':'In progress', 'completed':'Completed'} %}
        <small>Status: {{ status_display[course.status] }}</small><br>

        <small> Total Time: {{ course.total_hours // 60 }}h {{ course.total_hours % 60 }}m </small>
        <small>(Manual: {{ course.manual_hours // 60 }}h {{ course.manual_hours % 60 }}m )</small>
        {% if course.tags %}
        <p style="font-size: xx-small;"> Tags:
            {% for tag in course.tags.split(',') %}
            <span class="tag"></span>{{ tag }}</span>
            {% endfor %}
            {% else %}
            <span>No tags</span>
            {% endif %}
        </p>
        <div class="actions">
            <a href="{{ url_for('list_sessions', course_id=course.id) }}" class="course-link">View {{ course.coursename
                }} Sessions</a>
            <a href="{{ url_for('edit_course', course_id=course.id )}}" class="course-link">Edit</a>
            <a href="{{ url_for('delete_course', course_id=course.id)}}" class="course-link">Delete</a>
        </div>
    </div>
    {% else %}
    <p> No Courses yet.</p>
    {% endfor %}








    {% endblock %}